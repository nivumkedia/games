<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kitchen Chaos - Cooking Discovery Game</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Fredoka', 'Segoe UI', sans-serif;
    background: #0f0a1a;
    color: #eee;
    min-height: 100vh;
    overflow-x: hidden;
}

/* === HEADER === */
.header {
    position: relative;
    text-align: center;
    padding: 20px 20px 12px;
    background: linear-gradient(180deg, #1c1230 0%, #0f0a1a 100%);
    overflow: hidden;
}
.header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -10%;
    width: 120%;
    height: 200%;
    background: radial-gradient(ellipse at 50% 0%, rgba(255,120,50,0.08) 0%, transparent 60%);
    pointer-events: none;
}
h1 {
    font-size: 2.8em;
    font-weight: 700;
    background: linear-gradient(135deg, #ff6b35, #ffa940, #ffdf40);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -1px;
    position: relative;
}
.subtitle {
    color: #776b8a;
    font-size: 1em;
    margin-top: 4px;
    font-weight: 400;
}

/* === STATS BAR === */
.stats-bar {
    display: flex;
    justify-content: center;
    gap: 8px;
    padding: 10px 20px;
    background: #14102a;
    border-bottom: 1px solid #2a2445;
    flex-wrap: wrap;
}
.stat-card {
    background: linear-gradient(135deg, #1e1740, #251d50);
    border: 1px solid #3a3060;
    border-radius: 12px;
    padding: 8px 20px;
    text-align: center;
    min-width: 120px;
}
.stat-card .stat-label { font-size: 0.7em; color: #776b8a; text-transform: uppercase; letter-spacing: 1px; }
.stat-card .stat-value { font-size: 1.4em; font-weight: 700; color: #ffa940; }
.stat-card .stat-value.score-val { color: #4ade80; }
.stat-card .stat-value.streak-val { color: #f472b6; }

/* === MAIN LAYOUT === */
.game-layout {
    display: grid;
    grid-template-columns: 340px 1fr 300px;
    max-width: 1400px;
    margin: 0 auto;
    gap: 16px;
    padding: 16px;
    min-height: calc(100vh - 140px);
}

/* === PANELS === */
.panel {
    background: linear-gradient(180deg, #1a1435 0%, #151030 100%);
    border-radius: 16px;
    border: 1px solid #2a2450;
    overflow: hidden;
}
.panel-header {
    padding: 14px 18px;
    font-size: 1em;
    font-weight: 600;
    color: #ffa940;
    border-bottom: 1px solid #2a2450;
    display: flex;
    align-items: center;
    gap: 8px;
    background: linear-gradient(135deg, rgba(255,169,64,0.06), transparent);
}
.panel-header .h-icon { font-size: 1.2em; }
.panel-body {
    padding: 12px;
    overflow-y: auto;
    max-height: calc(100vh - 210px);
}

/* === INGREDIENT PANEL === */
.cat-section { margin-bottom: 10px; }
.cat-label {
    font-size: 0.72em;
    color: #6b5f80;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    padding: 4px 6px;
    font-weight: 600;
}
.ing-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    padding: 4px 0;
}
.ing-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 5px 10px;
    border-radius: 10px;
    border: 1.5px solid #2a2450;
    background: #1a1540;
    color: #a99bc0;
    font-size: 0.82em;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.15s ease;
    user-select: none;
    white-space: nowrap;
}
.ing-btn:hover {
    border-color: #ff6b35;
    color: #fff;
    background: #251d50;
    transform: translateY(-1px);
    box-shadow: 0 3px 12px rgba(255,107,53,0.15);
}
.ing-btn.selected {
    background: linear-gradient(135deg, #ff6b35, #e85525);
    border-color: #ff8855;
    color: #fff;
    box-shadow: 0 2px 12px rgba(255,107,53,0.35);
}
.ing-btn .emoji { font-size: 1.1em; }

/* === CENTER COOKING AREA === */
.center-area { display: flex; flex-direction: column; gap: 14px; }

/* Prep counter (selected items) */
.prep-counter {
    background: linear-gradient(180deg, #1e1845, #181340);
    border-radius: 16px;
    border: 1px solid #2a2450;
    padding: 16px;
    min-height: 80px;
}
.prep-label {
    font-size: 0.75em;
    color: #6b5f80;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 8px;
    font-weight: 600;
}
.prep-items {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
    min-height: 36px;
}
.prep-tag {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 5px 12px;
    border-radius: 10px;
    font-size: 0.88em;
    font-weight: 500;
    animation: popIn 0.2s ease;
}
.prep-tag.ingredient-tag {
    background: linear-gradient(135deg, #ff6b35, #e85525);
    color: #fff;
    box-shadow: 0 2px 8px rgba(255,107,53,0.3);
}
.prep-tag.method-tag {
    background: linear-gradient(135deg, #a855f7, #7c3aed);
    color: #fff;
    box-shadow: 0 2px 8px rgba(168,85,247,0.3);
}
.prep-tag .tag-remove {
    cursor: pointer;
    opacity: 0.6;
    font-weight: 700;
    margin-left: 2px;
    font-size: 1.1em;
    line-height: 1;
}
.prep-tag .tag-remove:hover { opacity: 1; }
.prep-placeholder {
    color: #3d3560;
    font-size: 0.9em;
    padding: 8px;
}
@keyframes popIn {
    0% { transform: scale(0.7); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/* Method grid */
.method-section {
    background: linear-gradient(180deg, #1e1845, #181340);
    border-radius: 16px;
    border: 1px solid #2a2450;
    padding: 16px;
}
.method-label {
    font-size: 0.75em;
    color: #6b5f80;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 10px;
    font-weight: 600;
}
.method-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(95px, 1fr));
    gap: 8px;
}
.method-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
    padding: 12px 8px;
    border-radius: 12px;
    border: 1.5px solid #2a2450;
    background: #1a1540;
    color: #a99bc0;
    font-size: 0.82em;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.15s ease;
}
.method-btn .m-icon { font-size: 1.8em; line-height: 1.2; }
.method-btn:hover {
    border-color: #a855f7;
    color: #fff;
    background: #251d50;
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(168,85,247,0.15);
}
.method-btn.selected {
    background: linear-gradient(135deg, #a855f7, #7c3aed);
    border-color: #c084fc;
    color: #fff;
    box-shadow: 0 4px 20px rgba(168,85,247,0.35);
}

/* Cook button */
.cook-row {
    display: flex;
    gap: 10px;
    align-items: stretch;
}
.cook-btn {
    flex: 1;
    padding: 16px;
    font-size: 1.3em;
    font-weight: 700;
    font-family: inherit;
    border: none;
    border-radius: 14px;
    cursor: pointer;
    background: linear-gradient(135deg, #ff6b35, #ffa940);
    color: #fff;
    transition: all 0.2s;
    text-transform: uppercase;
    letter-spacing: 2px;
    box-shadow: 0 4px 20px rgba(255,107,53,0.3);
    position: relative;
    overflow: hidden;
}
.cook-btn::after {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
    transition: left 0.5s;
}
.cook-btn:hover:not(:disabled)::after { left: 100%; }
.cook-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 30px rgba(255,107,53,0.45);
}
.cook-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}
.clear-btn {
    padding: 16px 20px;
    border-radius: 14px;
    border: 1.5px solid #3a3060;
    background: #1a1540;
    color: #776b8a;
    font-family: inherit;
    font-size: 0.9em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s;
}
.clear-btn:hover { border-color: #e94560; color: #e94560; }

/* === RESULT AREA === */
.result-panel {
    background: linear-gradient(180deg, #1e1845, #181340);
    border-radius: 16px;
    border: 1px solid #2a2450;
    padding: 24px;
    text-align: center;
    min-height: 180px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}
.result-panel.has-result::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: radial-gradient(circle at 50% 50%, rgba(255,169,64,0.05) 0%, transparent 50%);
    pointer-events: none;
}
.cooking-anim {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 12px;
}
.cooking-anim.active { display: flex; }
.cooking-anim .c-pot { font-size: 4.5em; animation: cookShake 0.25s ease-in-out infinite; }
.cooking-anim .c-steam { font-size: 2em; opacity: 0.5; animation: steamFloat 0.7s ease-in-out infinite; }
.cooking-anim .c-text { color: #776b8a; font-weight: 500; }
@keyframes cookShake {
    0%, 100% { transform: rotate(0); }
    25% { transform: rotate(-4deg); }
    75% { transform: rotate(4deg); }
}
@keyframes steamFloat {
    0%, 100% { transform: translateY(0); opacity: 0.5; }
    50% { transform: translateY(-12px); opacity: 0.15; }
}
.result-content { position: relative; }
.result-badge {
    display: inline-block;
    padding: 4px 16px;
    border-radius: 20px;
    font-size: 0.75em;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 10px;
}
.result-badge.new-badge {
    background: linear-gradient(135deg, #ff6b35, #ffa940);
    color: #fff;
    animation: badgePulse 1.5s ease-in-out infinite;
    box-shadow: 0 2px 15px rgba(255,107,53,0.4);
}
.result-badge.known-badge {
    background: #2a2450;
    color: #776b8a;
    border: 1px solid #3a3060;
}
@keyframes badgePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.06); }
}
.result-icon {
    font-size: 5em;
    line-height: 1.2;
    margin: 8px 0;
    animation: resultBounce 0.5s ease;
}
@keyframes resultBounce {
    0% { transform: scale(0); }
    60% { transform: scale(1.15); }
    100% { transform: scale(1); }
}
.result-name {
    font-size: 1.6em;
    font-weight: 700;
    background: linear-gradient(135deg, #ffa940, #ffdf40);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 4px;
}
.result-desc { color: #a99bc0; font-size: 0.9em; max-width: 400px; }
.result-rating { font-size: 1.3em; margin-top: 8px; letter-spacing: 2px; }
.result-points {
    color: #4ade80;
    font-weight: 700;
    font-size: 1.05em;
    margin-top: 6px;
}
.result-placeholder { color: #2a2450; font-size: 3em; }

/* Particles for new discovery */
.particles {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    overflow: hidden;
}
.particle {
    position: absolute;
    font-size: 1.5em;
    animation: particleFly 1.5s ease-out forwards;
    opacity: 0;
}
@keyframes particleFly {
    0% { transform: translate(0, 0) scale(0); opacity: 1; }
    100% { transform: translate(var(--dx), var(--dy)) scale(0.3); opacity: 0; }
}

/* === RECIPE BOOK === */
.book-tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    padding: 10px 12px;
    border-bottom: 1px solid #2a2450;
}
.book-tab {
    padding: 4px 10px;
    border-radius: 8px;
    font-size: 0.72em;
    font-weight: 500;
    cursor: pointer;
    color: #776b8a;
    background: transparent;
    border: 1px solid transparent;
    transition: all 0.15s;
    font-family: inherit;
}
.book-tab:hover { color: #ffa940; }
.book-tab.active {
    background: linear-gradient(135deg, rgba(255,169,64,0.15), rgba(255,169,64,0.05));
    color: #ffa940;
    border-color: rgba(255,169,64,0.3);
}
.recipe-list {
    padding: 6px;
}
.recipe-entry {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    border-radius: 10px;
    margin-bottom: 3px;
    transition: background 0.15s;
}
.recipe-entry:hover { background: rgba(255,255,255,0.03); }
.recipe-entry .r-icon { font-size: 1.4em; min-width: 28px; text-align: center; }
.recipe-entry .r-name { font-weight: 600; font-size: 0.85em; color: #ddd; }
.recipe-entry .r-detail { font-size: 0.72em; color: #6b5f80; margin-top: 1px; }
.recipe-entry.undiscovered { opacity: 0.25; }
.recipe-entry.undiscovered .r-name { color: #6b5f80; }
.recipe-empty { color: #3a3060; text-align: center; padding: 30px; font-size: 0.9em; }

/* === SCROLLBARS === */
.panel-body::-webkit-scrollbar { width: 5px; }
.panel-body::-webkit-scrollbar-track { background: transparent; }
.panel-body::-webkit-scrollbar-thumb { background: #2a2450; border-radius: 3px; }
.panel-body::-webkit-scrollbar-thumb:hover { background: #3a3060; }

/* === RESPONSIVE === */
@media (max-width: 1100px) {
    .game-layout {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: auto auto;
    }
    .center-area { grid-column: 1 / -1; order: -1; }
    .panel-body { max-height: 50vh; }
}
@media (max-width: 700px) {
    .game-layout { grid-template-columns: 1fr; }
    h1 { font-size: 2em; }
    .stats-bar { gap: 5px; }
    .stat-card { padding: 6px 14px; min-width: 90px; }
    .stat-card .stat-value { font-size: 1.2em; }
    .panel-body { max-height: 40vh; }
    .method-grid { grid-template-columns: repeat(3, 1fr); }
}
</style>
</head>
<body>

<div class="header">
    <h1>Kitchen Chaos</h1>
    <p class="subtitle">Combine ingredients, pick a method, and discover recipes</p>
</div>

<div class="stats-bar">
    <div class="stat-card">
        <div class="stat-label">Discovered</div>
        <div class="stat-value"><span id="discovered-count">0</span> / <span id="total-count">0</span></div>
    </div>
    <div class="stat-card">
        <div class="stat-label">Score</div>
        <div class="stat-value score-val" id="score">0</div>
    </div>
    <div class="stat-card">
        <div class="stat-label">Streak</div>
        <div class="stat-value streak-val" id="streak">0</div>
    </div>
</div>

<div class="game-layout">

<!-- LEFT: Ingredients -->
<div class="panel">
    <div class="panel-header"><span class="h-icon">ü•ò</span> Ingredients</div>
    <div class="panel-body" id="ingredient-panel"></div>
</div>

<!-- CENTER: Cooking -->
<div class="center-area">
    <div class="prep-counter">
        <div class="prep-label">Prep Counter</div>
        <div class="prep-items" id="prep-items">
            <span class="prep-placeholder">Select ingredients and a cooking method...</span>
        </div>
    </div>

    <div class="method-section">
        <div class="method-label">Cooking Method</div>
        <div class="method-grid" id="method-grid"></div>
    </div>

    <div class="cook-row">
        <button class="cook-btn" id="cook-btn" disabled onclick="cook()">Cook It!</button>
        <button class="clear-btn" onclick="clearAll()">Clear</button>
    </div>

    <div class="result-panel" id="result-panel">
        <div class="cooking-anim" id="cooking-anim">
            <div class="c-steam">~ ~ ~</div>
            <div class="c-pot">üç≥</div>
            <div class="c-text">Cooking...</div>
        </div>
        <div class="result-content" id="result-area">
            <div class="result-placeholder">üçΩÔ∏è</div>
        </div>
    </div>
</div>

<!-- RIGHT: Recipe Book -->
<div class="panel">
    <div class="panel-header"><span class="h-icon">üìñ</span> Recipe Book</div>
    <div class="book-tabs" id="book-tabs"></div>
    <div class="panel-body">
        <div class="recipe-list" id="recipe-list"></div>
    </div>
</div>

</div>

<script>
const ingredients = {
    proteins: [
        { id: 'chicken', name: 'Chicken', icon: 'üçó' },
        { id: 'beef', name: 'Beef', icon: 'ü•©' },
        { id: 'pork', name: 'Pork', icon: 'ü•ì' },
        { id: 'fish', name: 'Fish', icon: 'üêü' },
        { id: 'shrimp', name: 'Shrimp', icon: 'ü¶ê' },
        { id: 'egg', name: 'Egg', icon: 'ü•ö' },
        { id: 'tofu', name: 'Tofu', icon: 'üßä' },
        { id: 'lamb', name: 'Lamb', icon: 'üêë' },
        { id: 'crab', name: 'Crab', icon: 'ü¶Ä' },
        { id: 'squid', name: 'Squid', icon: 'ü¶ë' },
    ],
    grains: [
        { id: 'flour', name: 'Flour', icon: 'üåæ' },
        { id: 'rice', name: 'Rice', icon: 'üçö' },
        { id: 'pasta', name: 'Pasta', icon: 'üçù' },
        { id: 'bread', name: 'Bread', icon: 'üçû' },
        { id: 'tortilla', name: 'Tortilla', icon: 'ü´ì' },
        { id: 'potato', name: 'Potato', icon: 'ü•î' },
        { id: 'noodles', name: 'Noodles', icon: 'üçú' },
        { id: 'oats', name: 'Oats', icon: 'ü•£' },
        { id: 'corn', name: 'Corn', icon: 'üåΩ' },
    ],
    vegetables: [
        { id: 'tomato', name: 'Tomato', icon: 'üçÖ' },
        { id: 'onion', name: 'Onion', icon: 'üßÖ' },
        { id: 'garlic', name: 'Garlic', icon: 'üßÑ' },
        { id: 'carrot', name: 'Carrot', icon: 'ü•ï' },
        { id: 'lettuce', name: 'Lettuce', icon: 'ü•¨' },
        { id: 'pepper', name: 'Pepper', icon: 'ü´ë' },
        { id: 'mushroom', name: 'Mushroom', icon: 'üçÑ' },
        { id: 'broccoli', name: 'Broccoli', icon: 'ü•¶' },
        { id: 'spinach', name: 'Spinach', icon: 'üåø' },
        { id: 'cucumber', name: 'Cucumber', icon: 'ü•í' },
        { id: 'avocado', name: 'Avocado', icon: 'ü•ë' },
        { id: 'beans', name: 'Beans', icon: 'ü´ò' },
        { id: 'peas', name: 'Peas', icon: 'üü¢' },
        { id: 'eggplant', name: 'Eggplant', icon: 'üçÜ' },
        { id: 'cabbage', name: 'Cabbage', icon: 'ü•ó' },
    ],
    fruits: [
        { id: 'apple', name: 'Apple', icon: 'üçé' },
        { id: 'lemon', name: 'Lemon', icon: 'üçã' },
        { id: 'banana', name: 'Banana', icon: 'üçå' },
        { id: 'strawberry', name: 'Strawberry', icon: 'üçì' },
        { id: 'mango', name: 'Mango', icon: 'ü•≠' },
        { id: 'orange', name: 'Orange', icon: 'üçä' },
        { id: 'pineapple', name: 'Pineapple', icon: 'üçç' },
        { id: 'coconut', name: 'Coconut', icon: 'ü••' },
        { id: 'peach', name: 'Peach', icon: 'üçë' },
        { id: 'grape', name: 'Grape', icon: 'üçá' },
    ],
    dairy: [
        { id: 'cheese', name: 'Cheese', icon: 'üßÄ' },
        { id: 'butter', name: 'Butter', icon: 'üßà' },
        { id: 'milk', name: 'Milk', icon: 'ü•õ' },
        { id: 'cream', name: 'Cream', icon: 'ü´ô' },
        { id: 'yogurt', name: 'Yogurt', icon: 'üç¶' },
    ],
    seasonings: [
        { id: 'salt', name: 'Salt', icon: 'üßÇ' },
        { id: 'sugar', name: 'Sugar', icon: 'üç¨' },
        { id: 'chocolate', name: 'Chocolate', icon: 'üç´' },
        { id: 'vanilla', name: 'Vanilla', icon: 'üå∏' },
        { id: 'cinnamon', name: 'Cinnamon', icon: 'üü§' },
        { id: 'honey', name: 'Honey', icon: 'üçØ' },
        { id: 'chili', name: 'Chili', icon: 'üå∂Ô∏è' },
        { id: 'ginger', name: 'Ginger', icon: 'ü´ö' },
        { id: 'basil', name: 'Basil', icon: 'üå±' },
        { id: 'nuts', name: 'Nuts', icon: 'ü•ú' },
    ],
    liquids: [
        { id: 'water', name: 'Water', icon: 'üíß' },
        { id: 'oil', name: 'Oil', icon: 'ü´ó' },
        { id: 'vinegar', name: 'Vinegar', icon: 'üç∂' },
        { id: 'soy_sauce', name: 'Soy Sauce', icon: 'ü•´' },
        { id: 'wine', name: 'Wine', icon: 'üç∑' },
    ],
};

const categoryLabels = {
    proteins: 'Proteins',
    grains: 'Grains & Starches',
    vegetables: 'Vegetables',
    fruits: 'Fruits',
    dairy: 'Dairy',
    seasonings: 'Seasonings',
    liquids: 'Liquids',
};

const methods = [
    { id: 'oven', name: 'Oven', icon: 'üî•' },
    { id: 'pan', name: 'Pan Fry', icon: 'üç≥' },
    { id: 'boil', name: 'Boil', icon: '‚ô®Ô∏è' },
    { id: 'grill', name: 'Grill', icon: 'ü•ò' },
    { id: 'fry', name: 'Deep Fry', icon: 'üõ¢Ô∏è' },
    { id: 'blend', name: 'Blend', icon: 'ü´ô' },
    { id: 'raw', name: 'No Cook', icon: 'ü•ó' },
    { id: 'steam', name: 'Steam', icon: 'üí®' },
    { id: 'smoke', name: 'Smoke', icon: 'üå´Ô∏è' },
];

const recipes = {
    'egg,flour,milk,sugar|oven': { name: 'Vanilla Cake', icon: 'üéÇ', desc: 'A fluffy homemade cake!', rating: 5, points: 50, category: 'baked' },
    'butter,flour,sugar|oven': { name: 'Shortbread Cookies', icon: 'üç™', desc: 'Buttery, crumbly perfection.', rating: 4, points: 35, category: 'baked' },
    'chocolate,egg,flour,sugar|oven': { name: 'Chocolate Brownies', icon: 'üü´', desc: 'Rich, fudgy brownies.', rating: 5, points: 50, category: 'baked' },
    'butter,chocolate,flour,sugar|oven': { name: 'Chocolate Chip Cookies', icon: 'üç™', desc: 'Crispy edges, chewy center.', rating: 5, points: 50, category: 'baked' },
    'apple,cinnamon,flour,sugar|oven': { name: 'Apple Pie', icon: 'ü•ß', desc: 'Classic American apple pie!', rating: 5, points: 55, category: 'baked' },
    'cheese,flour,tomato|oven': { name: 'Pizza', icon: 'üçï', desc: 'Homemade pizza fresh from the oven!', rating: 5, points: 45, category: 'baked' },
    'banana,flour,sugar|oven': { name: 'Banana Bread', icon: 'üçû', desc: 'Moist and sweet banana bread.', rating: 4, points: 40, category: 'baked' },
    'cream,egg,flour,sugar|oven': { name: 'Cream Puffs', icon: 'üßÅ', desc: 'Light pastry filled with cream.', rating: 5, points: 50, category: 'baked' },
    'cinnamon,flour,sugar|oven': { name: 'Cinnamon Rolls', icon: 'ü•ê', desc: 'Warm, gooey cinnamon rolls.', rating: 4, points: 40, category: 'baked' },
    'cheese,egg,flour|oven': { name: 'Cheese Souffl√©', icon: 'üßÅ', desc: 'Airy, cheesy souffl√© that rises beautifully.', rating: 5, points: 55, category: 'baked' },
    'egg,flour,milk|oven': { name: 'Yorkshire Pudding', icon: 'ü•ê', desc: 'Fluffy, crispy British classic.', rating: 4, points: 35, category: 'baked' },
    'flour,honey,nuts|oven': { name: 'Baklava', icon: 'üçØ', desc: 'Flaky pastry with honey and nuts.', rating: 5, points: 55, category: 'baked' },
    'bread,cheese,tomato|oven': { name: 'Bruschetta', icon: 'üçû', desc: 'Toasted bread with tomato and cheese.', rating: 3, points: 25, category: 'baked' },
    'flour,pork|oven': { name: 'Pork Pie', icon: 'ü•ß', desc: 'Traditional savory pork pie.', rating: 4, points: 40, category: 'baked' },
    'flour,sugar,strawberry|oven': { name: 'Strawberry Tart', icon: 'üç∞', desc: 'A beautiful fruit tart.', rating: 5, points: 50, category: 'baked' },
    'flour,lemon,sugar|oven': { name: 'Lemon Drizzle Cake', icon: 'üçã', desc: 'Tangy and moist lemon cake.', rating: 4, points: 45, category: 'baked' },
    'coconut,flour,sugar|oven': { name: 'Coconut Macaroons', icon: 'ü••', desc: 'Sweet and chewy coconut treats.', rating: 4, points: 40, category: 'baked' },
    'chocolate,cream,flour|oven': { name: 'Chocolate √âclair', icon: 'üç´', desc: 'Choux pastry with chocolate glaze.', rating: 5, points: 55, category: 'baked' },
    'flour,peach,sugar|oven': { name: 'Peach Cobbler', icon: 'üçë', desc: 'Warm, fruity cobbler with crispy top.', rating: 4, points: 40, category: 'baked' },
    'egg,flour,sugar|oven': { name: 'Sponge Cake', icon: 'üç∞', desc: 'Light and airy sponge cake.', rating: 4, points: 35, category: 'baked' },
    'cheese,cream,egg,sugar|oven': { name: 'Cheesecake', icon: 'üç∞', desc: 'Creamy New York style cheesecake.', rating: 5, points: 55, category: 'baked' },
    'eggplant,cheese,tomato|oven': { name: 'Eggplant Parmesan', icon: 'üçÜ', desc: 'Layers of eggplant, cheese, and tomato sauce.', rating: 4, points: 40, category: 'baked' },
    'chicken,flour,tomato,cheese|oven': { name: 'Chicken Parmesan', icon: 'üçó', desc: 'Breaded chicken with marinara and melted cheese.', rating: 5, points: 50, category: 'baked' },
    'beef,onion,salt|pan': { name: 'Beef Stir-Fry', icon: 'ü•©', desc: 'Sizzling beef with caramelized onions.', rating: 4, points: 35, category: 'pan' },
    'chicken,garlic,oil|pan': { name: 'Garlic Chicken', icon: 'üçó', desc: 'Golden pan-fried garlic chicken.', rating: 4, points: 35, category: 'pan' },
    'egg,oil,rice|pan': { name: 'Fried Rice', icon: 'üç≥', desc: 'Classic egg fried rice.', rating: 4, points: 30, category: 'pan' },
    'egg,butter|pan': { name: 'Scrambled Eggs', icon: 'ü•ö', desc: 'Fluffy, buttery scrambled eggs.', rating: 3, points: 20, category: 'pan' },
    'egg,cheese,pepper|pan': { name: 'Omelet', icon: 'ü•ö', desc: 'A perfect fluffy omelet.', rating: 4, points: 30, category: 'pan' },
    'flour,egg,milk|pan': { name: 'Pancakes', icon: 'ü•û', desc: 'Fluffy breakfast pancakes!', rating: 4, points: 35, category: 'pan' },
    'flour,egg,milk,butter|pan': { name: 'Cr√™pes', icon: 'ü•û', desc: 'Thin French cr√™pes. Magnifique!', rating: 5, points: 45, category: 'pan' },
    'shrimp,garlic,butter|pan': { name: 'Garlic Butter Shrimp', icon: 'ü¶ê', desc: 'Succulent shrimp in garlic butter.', rating: 5, points: 45, category: 'pan' },
    'beef,cheese,bread|pan': { name: 'Patty Melt', icon: 'üçî', desc: 'Juicy beef patty with melted cheese on bread.', rating: 4, points: 35, category: 'pan' },
    'chicken,soy_sauce,ginger|pan': { name: 'Teriyaki Chicken', icon: 'üçó', desc: 'Sweet and savory teriyaki glaze.', rating: 5, points: 45, category: 'pan' },
    'tofu,soy_sauce,garlic|pan': { name: 'Crispy Tofu', icon: 'üßä', desc: 'Golden, crispy tofu with soy glaze.', rating: 4, points: 35, category: 'pan' },
    'pork,cabbage,soy_sauce|pan': { name: 'Pork Gyoza', icon: 'ü•ü', desc: 'Pan-fried dumplings with crispy bottoms.', rating: 5, points: 50, category: 'pan' },
    'potato,oil,salt|pan': { name: 'Hash Browns', icon: 'ü•î', desc: 'Crispy, golden hash browns.', rating: 3, points: 25, category: 'pan' },
    'banana,butter,sugar|pan': { name: 'Bananas Foster', icon: 'üçå', desc: 'Caramelized bananas in butter sauce.', rating: 5, points: 50, category: 'pan' },
    'bread,butter,cheese|pan': { name: 'Grilled Cheese', icon: 'üßÄ', desc: 'Golden, melty grilled cheese sandwich.', rating: 4, points: 30, category: 'pan' },
    'noodles,egg,soy_sauce|pan': { name: 'Chow Mein', icon: 'üçú', desc: 'Stir-fried noodles with soy sauce.', rating: 4, points: 35, category: 'pan' },
    'rice,egg,soy_sauce,shrimp|pan': { name: 'Shrimp Fried Rice', icon: 'üç§', desc: 'Savory shrimp fried rice.', rating: 5, points: 45, category: 'pan' },
    'squid,oil,salt|pan': { name: 'Calamari', icon: 'ü¶ë', desc: 'Tender, golden pan-fried calamari.', rating: 4, points: 35, category: 'pan' },
    'mushroom,butter,garlic|pan': { name: 'Saut√©ed Mushrooms', icon: 'üçÑ', desc: 'Rich, buttery garlic mushrooms.', rating: 4, points: 30, category: 'pan' },
    'spinach,garlic,oil|pan': { name: 'Saut√©ed Spinach', icon: 'üåø', desc: 'Quick and healthy garlicky greens.', rating: 3, points: 20, category: 'pan' },
    'tortilla,cheese|pan': { name: 'Quesadilla', icon: 'ü´ì', desc: 'Crispy tortilla with melted cheese.', rating: 3, points: 25, category: 'pan' },
    'tortilla,cheese,chicken|pan': { name: 'Chicken Quesadilla', icon: 'ü´ì', desc: 'Loaded quesadilla with chicken and cheese.', rating: 4, points: 35, category: 'pan' },
    'fish,lemon,butter|pan': { name: 'Pan-Seared Fish', icon: 'üêü', desc: 'Perfectly seared fish with lemon butter.', rating: 5, points: 45, category: 'pan' },
    'lamb,garlic,oil|pan': { name: 'Lamb Chops', icon: 'üêë', desc: 'Juicy, seared lamb chops.', rating: 5, points: 50, category: 'pan' },
    'beef,pepper,onion|pan': { name: 'Pepper Steak', icon: 'ü•©', desc: 'Tender beef with peppers and onions.', rating: 4, points: 40, category: 'pan' },
    'pasta,tomato,garlic|boil': { name: 'Spaghetti Marinara', icon: 'üçù', desc: 'Classic pasta with tomato sauce.', rating: 4, points: 30, category: 'boil' },
    'pasta,cheese,cream|boil': { name: 'Mac & Cheese', icon: 'üßÄ', desc: 'Creamy, cheesy mac and cheese.', rating: 4, points: 35, category: 'boil' },
    'rice,water|boil': { name: 'Steamed Rice', icon: 'üçö', desc: 'Perfectly cooked fluffy rice.', rating: 2, points: 10, category: 'boil' },
    'noodles,egg,pork|boil': { name: 'Ramen', icon: 'üçú', desc: 'Rich, savory ramen noodle soup.', rating: 5, points: 50, category: 'boil' },
    'potato,butter,milk|boil': { name: 'Mashed Potatoes', icon: 'ü•î', desc: 'Creamy, fluffy mashed potatoes.', rating: 4, points: 30, category: 'boil' },
    'chicken,carrot,noodles|boil': { name: 'Chicken Noodle Soup', icon: 'üç≤', desc: 'Comforting chicken noodle soup.', rating: 4, points: 35, category: 'boil' },
    'egg,water|boil': { name: 'Boiled Eggs', icon: 'ü•ö', desc: 'Simple boiled eggs. A classic.', rating: 2, points: 10, category: 'boil' },
    'beans,tomato,onion,chili|boil': { name: 'Chili Con Carne', icon: 'üå∂Ô∏è', desc: 'Spicy, hearty chili.', rating: 4, points: 40, category: 'boil' },
    'potato,onion,cream|boil': { name: 'Potato Soup', icon: 'ü•£', desc: 'Thick and creamy potato soup.', rating: 4, points: 35, category: 'boil' },
    'tomato,onion,garlic,basil|boil': { name: 'Tomato Soup', icon: 'üçÖ', desc: 'Rich homemade tomato soup.', rating: 4, points: 35, category: 'boil' },
    'shrimp,corn,potato|boil': { name: 'Shrimp Boil', icon: 'ü¶ê', desc: 'Cajun-style shrimp boil feast!', rating: 5, points: 50, category: 'boil' },
    'rice,milk,sugar,cinnamon|boil': { name: 'Rice Pudding', icon: 'üçö', desc: 'Sweet, creamy rice pudding.', rating: 4, points: 35, category: 'boil' },
    'pasta,egg,pork,cheese|boil': { name: 'Carbonara', icon: 'üçù', desc: 'Authentic Italian carbonara.', rating: 5, points: 55, category: 'boil' },
    'oats,milk,honey|boil': { name: 'Oatmeal', icon: 'ü•£', desc: 'Warm, comforting oatmeal with honey.', rating: 3, points: 20, category: 'boil' },
    'corn,butter,salt|boil': { name: 'Corn on the Cob', icon: 'üåΩ', desc: 'Sweet corn with butter.', rating: 3, points: 20, category: 'boil' },
    'crab,butter,lemon|boil': { name: 'Butter Crab', icon: 'ü¶Ä', desc: 'Succulent crab in drawn butter.', rating: 5, points: 55, category: 'boil' },
    'broccoli,cheese|boil': { name: 'Broccoli Cheese Soup', icon: 'ü•¶', desc: 'Cheesy, comforting broccoli soup.', rating: 4, points: 35, category: 'boil' },
    'peas,mint|boil': { name: 'Minted Peas', icon: 'üü¢', desc: 'Fresh peas with mint. Simple but delicious.', rating: 3, points: 20, category: 'boil' },
    'beef,salt|grill': { name: 'Grilled Steak', icon: 'ü•©', desc: 'A perfectly seared steak.', rating: 5, points: 40, category: 'grill' },
    'chicken,chili,lemon|grill': { name: 'Chili Lime Chicken', icon: 'üçó', desc: 'Zesty grilled chicken with a kick.', rating: 5, points: 45, category: 'grill' },
    'beef,bread,lettuce,tomato|grill': { name: 'Hamburger', icon: 'üçî', desc: 'Classic juicy hamburger.', rating: 5, points: 45, category: 'grill' },
    'chicken,lettuce,bread|grill': { name: 'Chicken Sandwich', icon: 'ü•™', desc: 'Grilled chicken sandwich.', rating: 4, points: 30, category: 'grill' },
    'pork,honey,ginger|grill': { name: 'Honey Glazed Ribs', icon: 'üçñ', desc: 'Fall-off-the-bone glazed ribs!', rating: 5, points: 55, category: 'grill' },
    'corn,butter|grill': { name: 'Grilled Corn', icon: 'üåΩ', desc: 'Charred, buttery grilled corn.', rating: 3, points: 25, category: 'grill' },
    'fish,lemon|grill': { name: 'Grilled Fish', icon: 'üêü', desc: 'Light, flaky grilled fish with lemon.', rating: 4, points: 35, category: 'grill' },
    'pepper,onion,mushroom|grill': { name: 'Grilled Veggies', icon: 'ü´ë', desc: 'Charred, smoky grilled vegetables.', rating: 3, points: 25, category: 'grill' },
    'shrimp,garlic,lemon|grill': { name: 'Grilled Shrimp Skewers', icon: 'ü¶ê', desc: 'Juicy garlic lemon shrimp on skewers.', rating: 5, points: 45, category: 'grill' },
    'lamb,garlic,basil|grill': { name: 'Herb-Crusted Lamb', icon: 'üêë', desc: 'Perfectly grilled lamb with fresh herbs.', rating: 5, points: 55, category: 'grill' },
    'pineapple,sugar|grill': { name: 'Grilled Pineapple', icon: 'üçç', desc: 'Caramelized, sweet grilled pineapple.', rating: 3, points: 25, category: 'grill' },
    'chicken,soy_sauce,pineapple|grill': { name: 'Hawaiian Chicken', icon: 'üçó', desc: 'Sweet and tangy grilled Hawaiian chicken.', rating: 5, points: 50, category: 'grill' },
    'beef,cheese,tortilla|grill': { name: 'Beef Burrito', icon: 'üåØ', desc: 'Loaded grilled beef burrito.', rating: 5, points: 45, category: 'grill' },
    'eggplant,oil,garlic|grill': { name: 'Grilled Eggplant', icon: 'üçÜ', desc: 'Smoky, tender grilled eggplant.', rating: 3, points: 25, category: 'grill' },
    'peach,honey|grill': { name: 'Grilled Peaches', icon: 'üçë', desc: 'Caramelized grilled peaches with honey.', rating: 4, points: 35, category: 'grill' },
    'squid,lemon,oil|grill': { name: 'Grilled Squid', icon: 'ü¶ë', desc: 'Tender grilled squid with lemon.', rating: 4, points: 40, category: 'grill' },
    'chicken,flour,oil|fry': { name: 'Fried Chicken', icon: 'üçó', desc: 'Crispy, juicy fried chicken!', rating: 5, points: 45, category: 'fry' },
    'potato,oil,salt|fry': { name: 'French Fries', icon: 'üçü', desc: 'Golden, crispy french fries.', rating: 4, points: 30, category: 'fry' },
    'fish,flour,oil|fry': { name: 'Fish & Chips', icon: 'üêü', desc: 'Battered and fried fish. Classic!', rating: 5, points: 45, category: 'fry' },
    'flour,sugar,oil|fry': { name: 'Donuts', icon: 'üç©', desc: 'Sweet, golden fried donuts!', rating: 5, points: 45, category: 'fry' },
    'shrimp,flour,oil|fry': { name: 'Tempura Shrimp', icon: 'üç§', desc: 'Light, crispy tempura shrimp.', rating: 5, points: 45, category: 'fry' },
    'banana,flour,oil|fry': { name: 'Banana Fritters', icon: 'üçå', desc: 'Crispy on the outside, sweet on the inside.', rating: 4, points: 35, category: 'fry' },
    'tortilla,oil|fry': { name: 'Tortilla Chips', icon: 'ü´ì', desc: 'Crunchy homemade tortilla chips.', rating: 3, points: 20, category: 'fry' },
    'bread,egg,oil|fry': { name: 'French Toast', icon: 'üçû', desc: 'Golden, eggy French toast.', rating: 4, points: 35, category: 'fry' },
    'squid,flour,oil|fry': { name: 'Fried Calamari', icon: 'ü¶ë', desc: 'Crispy fried calamari rings.', rating: 4, points: 40, category: 'fry' },
    'cheese,flour,oil|fry': { name: 'Mozzarella Sticks', icon: 'üßÄ', desc: 'Crispy outside, gooey cheese inside.', rating: 4, points: 35, category: 'fry' },
    'apple,flour,cinnamon|fry': { name: 'Apple Fritters', icon: 'üçé', desc: 'Crispy apple fritters with cinnamon.', rating: 4, points: 40, category: 'fry' },
    'chicken,chili,oil|fry': { name: 'Spicy Wings', icon: 'üçó', desc: 'Fiery hot crispy chicken wings.', rating: 5, points: 45, category: 'fry' },
    'egg,oil|fry': { name: 'Fried Egg', icon: 'üç≥', desc: 'A simple, crispy fried egg.', rating: 2, points: 10, category: 'fry' },
    'tofu,flour,oil|fry': { name: 'Fried Tofu Puffs', icon: 'üßä', desc: 'Puffy, golden fried tofu.', rating: 3, points: 25, category: 'fry' },
    'banana,milk,strawberry|blend': { name: 'Berry Smoothie', icon: 'ü•§', desc: 'Creamy, fruity smoothie.', rating: 4, points: 30, category: 'blend' },
    'mango,yogurt,honey|blend': { name: 'Mango Lassi', icon: 'ü•≠', desc: 'Creamy Indian mango drink.', rating: 5, points: 40, category: 'blend' },
    'avocado,lemon,garlic,oil|blend': { name: 'Guacamole', icon: 'ü•ë', desc: 'Fresh, zesty guacamole.', rating: 5, points: 40, category: 'blend' },
    'tomato,onion,chili|blend': { name: 'Salsa', icon: 'üçÖ', desc: 'Fresh homemade salsa.', rating: 4, points: 30, category: 'blend' },
    'banana,chocolate,milk|blend': { name: 'Chocolate Milkshake', icon: 'üç´', desc: 'Rich, creamy chocolate shake.', rating: 5, points: 40, category: 'blend' },
    'strawberry,cream,sugar|blend': { name: 'Strawberry Mousse', icon: 'üçì', desc: 'Light, airy strawberry mousse.', rating: 5, points: 45, category: 'blend' },
    'pineapple,coconut,milk|blend': { name: 'Pi√±a Colada', icon: 'üçç', desc: 'Tropical coconut pineapple blend.', rating: 5, points: 45, category: 'blend' },
    'orange,carrot,ginger|blend': { name: 'Immunity Juice', icon: 'üçä', desc: 'Vitamin-packed health drink.', rating: 4, points: 35, category: 'blend' },
    'nuts,honey,oats|blend': { name: 'Energy Balls', icon: 'ü•ú', desc: 'No-bake energy bites.', rating: 4, points: 30, category: 'blend' },
    'basil,garlic,nuts,oil|blend': { name: 'Pesto', icon: 'üå±', desc: 'Fresh homemade basil pesto.', rating: 5, points: 45, category: 'blend' },
    'peach,yogurt|blend': { name: 'Peach Smoothie', icon: 'üçë', desc: 'Smooth and peachy!', rating: 3, points: 25, category: 'blend' },
    'grape,sugar,water|blend': { name: 'Grape Juice', icon: 'üçá', desc: 'Fresh-pressed grape juice.', rating: 3, points: 20, category: 'blend' },
    'apple,ginger,lemon|blend': { name: 'Detox Juice', icon: 'üçè', desc: 'Refreshing apple ginger cleanse.', rating: 4, points: 35, category: 'blend' },
    'coconut,mango|blend': { name: 'Tropical Smoothie', icon: 'ü••', desc: 'A taste of paradise.', rating: 4, points: 35, category: 'blend' },
    'lettuce,tomato,cucumber|raw': { name: 'Garden Salad', icon: 'ü•ó', desc: 'Fresh, crispy garden salad.', rating: 3, points: 20, category: 'raw' },
    'avocado,rice,fish|raw': { name: 'Sushi', icon: 'üç£', desc: 'Fresh fish sushi rolls!', rating: 5, points: 50, category: 'raw' },
    'bread,lettuce,tomato,chicken|raw': { name: 'Club Sandwich', icon: 'ü•™', desc: 'Stacked club sandwich.', rating: 4, points: 30, category: 'raw' },
    'tortilla,beans,lettuce,cheese|raw': { name: 'Bean Wrap', icon: 'üåØ', desc: 'Healthy bean and cheese wrap.', rating: 3, points: 25, category: 'raw' },
    'cream,sugar,vanilla|raw': { name: 'Whipped Cream', icon: 'üç¶', desc: 'Fluffy, sweet whipped cream.', rating: 3, points: 20, category: 'raw' },
    'chocolate,cream|raw': { name: 'Chocolate Truffles', icon: 'üç´', desc: 'Rich, decadent chocolate truffles.', rating: 5, points: 45, category: 'raw' },
    'cucumber,vinegar,salt|raw': { name: 'Pickles', icon: 'ü•í', desc: 'Crunchy homemade pickles.', rating: 3, points: 25, category: 'raw' },
    'yogurt,strawberry,honey|raw': { name: 'Yogurt Parfait', icon: 'üçì', desc: 'Layered yogurt with fruits and honey.', rating: 4, points: 30, category: 'raw' },
    'rice,fish,soy_sauce|raw': { name: 'Sashimi Bowl', icon: 'üç£', desc: 'Fresh sashimi over rice.', rating: 5, points: 50, category: 'raw' },
    'oats,milk,honey,strawberry|raw': { name: 'Overnight Oats', icon: 'ü•£', desc: 'Creamy overnight oats.', rating: 4, points: 35, category: 'raw' },
    'apple,nuts,honey|raw': { name: 'Apple Walnut Salad', icon: 'üçé', desc: 'Crunchy, sweet apple nut salad.', rating: 3, points: 25, category: 'raw' },
    'avocado,bread,egg|raw': { name: 'Avocado Toast', icon: 'ü•ë', desc: 'Trendy and delicious avocado toast.', rating: 4, points: 30, category: 'raw' },
    'mango,chili,lemon|raw': { name: 'Mango with Chili', icon: 'ü•≠', desc: 'Sweet and spicy mango snack.', rating: 4, points: 35, category: 'raw' },
    'tomato,cheese,basil|raw': { name: 'Caprese Salad', icon: 'üçÖ', desc: 'Classic Italian tomato mozzarella salad.', rating: 4, points: 35, category: 'raw' },
    'cabbage,carrot,vinegar|raw': { name: 'Coleslaw', icon: 'ü•ó', desc: 'Crunchy, tangy coleslaw.', rating: 3, points: 20, category: 'raw' },
    'rice,fish|steam': { name: 'Steamed Fish & Rice', icon: 'üêü', desc: 'Delicate steamed fish on rice.', rating: 4, points: 35, category: 'steam' },
    'flour,pork,cabbage|steam': { name: 'Steamed Dumplings', icon: 'ü•ü', desc: 'Juicy steamed pork dumplings!', rating: 5, points: 50, category: 'steam' },
    'broccoli,garlic|steam': { name: 'Steamed Broccoli', icon: 'ü•¶', desc: 'Healthy garlic steamed broccoli.', rating: 3, points: 20, category: 'steam' },
    'egg,milk|steam': { name: 'Steamed Egg Custard', icon: 'üçÆ', desc: 'Silky smooth steamed egg custard.', rating: 4, points: 35, category: 'steam' },
    'shrimp,garlic,ginger|steam': { name: 'Steamed Shrimp', icon: 'ü¶ê', desc: 'Tender steamed shrimp with aromatics.', rating: 4, points: 40, category: 'steam' },
    'flour,sugar,milk|steam': { name: 'Steamed Buns', icon: 'ü´ì', desc: 'Fluffy, soft steamed buns.', rating: 4, points: 35, category: 'steam' },
    'crab,ginger|steam': { name: 'Steamed Crab', icon: 'ü¶Ä', desc: 'Whole steamed crab with ginger.', rating: 5, points: 55, category: 'steam' },
    'chicken,mushroom,soy_sauce|steam': { name: 'Steamed Chicken', icon: 'üçó', desc: 'Tender steamed chicken with mushrooms.', rating: 4, points: 35, category: 'steam' },
    'carrot,peas,butter|steam': { name: 'Steamed Veggies', icon: 'ü•ï', desc: 'Colorful steamed vegetables with butter.', rating: 3, points: 20, category: 'steam' },
    'beef,salt,pepper|smoke': { name: 'Smoked Brisket', icon: 'ü•©', desc: 'Low and slow smoked beef brisket.', rating: 5, points: 55, category: 'smoke' },
    'pork,honey|smoke': { name: 'Smoked Ham', icon: 'üçñ', desc: 'Sweet, smoky glazed ham.', rating: 5, points: 50, category: 'smoke' },
    'fish,lemon,salt|smoke': { name: 'Smoked Salmon', icon: 'üêü', desc: 'Silky, delicate smoked salmon.', rating: 5, points: 55, category: 'smoke' },
    'chicken,chili|smoke': { name: 'Smoked Chicken Wings', icon: 'üçó', desc: 'Smoky, spicy chicken wings.', rating: 4, points: 40, category: 'smoke' },
    'pork,cabbage|smoke': { name: 'Smoked Pulled Pork', icon: 'üêñ', desc: 'Tender, smoky pulled pork.', rating: 5, points: 50, category: 'smoke' },
    'lamb,garlic|smoke': { name: 'Smoked Lamb Leg', icon: 'üêë', desc: 'Incredibly tender smoked lamb.', rating: 5, points: 55, category: 'smoke' },
    'cheese|smoke': { name: 'Smoked Gouda', icon: 'üßÄ', desc: 'Rich, smoky cheese.', rating: 4, points: 35, category: 'smoke' },
    'soy_sauce,tofu|smoke': { name: 'Smoked Tofu', icon: 'üßä', desc: 'Deep, smoky flavored tofu.', rating: 3, points: 30, category: 'smoke' },
};

let selectedIngredients = [];
let selectedMethod = null;
let discoveredRecipes = new Set();
let score = 0;
let streak = 0;
let activeBookTab = 'all';

function generateDish(ingredientIds, methodId) {
    const methodNames = {
        oven: 'Baked', pan: 'Pan-Fried', boil: 'Boiled', grill: 'Grilled',
        fry: 'Deep-Fried', blend: 'Blended', raw: 'Raw', steam: 'Steamed', smoke: 'Smoked'
    };
    const ings = ingredientIds.map(id => getIngredientById(id)).filter(Boolean);
    const mainIng = ings[0];
    const methodLabel = methodNames[methodId] || 'Cooked';
    const icon = mainIng.icon;
    let name;
    if (ings.length === 1) name = methodLabel + ' ' + ings[0].name;
    else if (ings.length === 2) name = methodLabel + ' ' + ings[0].name + ' & ' + ings[1].name;
    else {
        const last = ings[ings.length - 1].name;
        const rest = ings.slice(0, -1).map(i => i.name).join(', ');
        name = methodLabel + ' ' + rest + ' & ' + last;
    }
    const ingList = ings.map(i => i.name.toLowerCase()).join(', ');
    const desc = 'A ' + methodLabel.toLowerCase() + ' creation with ' + ingList + '.';
    const rating = ings.length === 1 ? 2 : 3;
    return { name, icon, desc, rating, points: ings.length * 5 };
}

function getIngredientById(id) {
    for (const cat of Object.values(ingredients)) {
        const found = cat.find(i => i.id === id);
        if (found) return found;
    }
    return null;
}

function makeRecipeKey(ingredientIds, methodId) {
    return ingredientIds.slice().sort().join(',') + '|' + methodId;
}

function toggleIngredient(id) {
    const idx = selectedIngredients.indexOf(id);
    if (idx >= 0) selectedIngredients.splice(idx, 1);
    else selectedIngredients.push(id);
    updateUI();
}

function selectMethod(id) {
    selectedMethod = selectedMethod === id ? null : id;
    updateUI();
}

function clearAll() {
    selectedIngredients = [];
    selectedMethod = null;
    document.getElementById('result-panel').classList.remove('has-result');
    document.getElementById('result-area').innerHTML = '<div class="result-placeholder">üçΩÔ∏è</div>';
    updateUI();
}

function updateUI() {
    document.querySelectorAll('.ing-btn').forEach(btn => {
        btn.classList.toggle('selected', selectedIngredients.includes(btn.dataset.id));
    });
    document.querySelectorAll('.method-btn').forEach(btn => {
        btn.classList.toggle('selected', selectedMethod === btn.dataset.id);
    });

    const prep = document.getElementById('prep-items');
    if (selectedIngredients.length === 0 && !selectedMethod) {
        prep.innerHTML = '<span class="prep-placeholder">Select ingredients and a cooking method...</span>';
    } else {
        let html = '';
        selectedIngredients.forEach(id => {
            const ing = getIngredientById(id);
            html += `<span class="prep-tag ingredient-tag"><span class="emoji">${ing.icon}</span> ${ing.name}<span class="tag-remove" onclick="toggleIngredient('${id}')">&times;</span></span>`;
        });
        if (selectedMethod) {
            const m = methods.find(m => m.id === selectedMethod);
            html += `<span class="prep-tag method-tag"><span class="emoji">${m.icon}</span> ${m.name}<span class="tag-remove" onclick="selectMethod('${selectedMethod}')">&times;</span></span>`;
        }
        prep.innerHTML = html;
    }

    document.getElementById('cook-btn').disabled = selectedIngredients.length < 1 || !selectedMethod;
    document.getElementById('discovered-count').textContent = discoveredRecipes.size;
    document.getElementById('total-count').textContent = Object.keys(recipes).length;
    document.getElementById('score').textContent = score;
    document.getElementById('streak').textContent = streak;
}

function spawnParticles(container) {
    const emojis = ['‚ú®','üåü','‚≠ê','üí´','üî•','üéâ'];
    for (let i = 0; i < 12; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        const angle = (Math.PI * 2 * i) / 12;
        const dist = 60 + Math.random() * 80;
        p.style.left = '50%';
        p.style.top = '50%';
        p.style.setProperty('--dx', Math.cos(angle) * dist + 'px');
        p.style.setProperty('--dy', Math.sin(angle) * dist + 'px');
        p.style.animationDelay = (Math.random() * 0.3) + 's';
        container.appendChild(p);
        setTimeout(() => p.remove(), 2000);
    }
}

function cook() {
    if (selectedIngredients.length < 1 || !selectedMethod) return;

    const resultPanel = document.getElementById('result-panel');
    const cookingAnim = document.getElementById('cooking-anim');
    const resultArea = document.getElementById('result-area');

    resultPanel.classList.remove('has-result');
    cookingAnim.classList.add('active');
    resultArea.innerHTML = '';

    const key = makeRecipeKey(selectedIngredients, selectedMethod);

    setTimeout(() => {
        cookingAnim.classList.remove('active');
        resultPanel.classList.add('has-result');

        const recipe = recipes[key];
        if (recipe) {
            const isNew = !discoveredRecipes.has(key);
            if (isNew) {
                discoveredRecipes.add(key);
                streak++;
                score += recipe.points + (streak > 1 ? streak * 5 : 0);
            }
            const stars = '‚≠ê'.repeat(recipe.rating) + '‚òÜ'.repeat(5 - recipe.rating);
            resultArea.innerHTML = `
                <div class="result-badge ${isNew ? 'new-badge' : 'known-badge'}">${isNew ? 'New Discovery!' : 'Already Known'}</div>
                <div class="result-icon">${recipe.icon}</div>
                <div class="result-name">${recipe.name}</div>
                <div class="result-desc">${recipe.desc}</div>
                <div class="result-rating">${stars}</div>
                ${isNew ? `<div class="result-points">+${recipe.points} pts${streak > 1 ? ' (+' + streak * 5 + ' streak!)' : ''}</div>` : ''}
            `;
            if (isNew) {
                const particles = document.createElement('div');
                particles.className = 'particles';
                resultPanel.appendChild(particles);
                spawnParticles(particles);
                setTimeout(() => particles.remove(), 2000);
            }
            updateRecipeBook();
        } else {
            const dish = generateDish(selectedIngredients, selectedMethod);
            const stars = '‚≠ê'.repeat(dish.rating) + '‚òÜ'.repeat(5 - dish.rating);
            score += dish.points;
            resultArea.innerHTML = `
                <div class="result-icon">${dish.icon}</div>
                <div class="result-name">${dish.name}</div>
                <div class="result-desc">${dish.desc}</div>
                <div class="result-rating">${stars}</div>
                <div class="result-points">+${dish.points} pts</div>
            `;
        }
        updateUI();
        saveProgress();
    }, 1200);
}

function updateRecipeBook() {
    const list = document.getElementById('recipe-list');
    const tabs = document.getElementById('book-tabs');

    const categories = {
        all: 'All', baked: 'Baked', pan: 'Pan Fry', boil: 'Boiled',
        grill: 'Grilled', fry: 'Fried', blend: 'Blended',
        raw: 'Raw', steam: 'Steamed', smoke: 'Smoked',
    };

    tabs.innerHTML = '';
    for (const [cat, label] of Object.entries(categories)) {
        const tab = document.createElement('button');
        tab.className = 'book-tab' + (activeBookTab === cat ? ' active' : '');
        tab.textContent = label;
        tab.onclick = () => { activeBookTab = cat; updateRecipeBook(); };
        tabs.appendChild(tab);
    }

    let html = '';
    const entries = Object.entries(recipes)
        .filter(([, r]) => activeBookTab === 'all' || r.category === activeBookTab)
        .sort((a, b) => {
            const aD = discoveredRecipes.has(a[0]), bD = discoveredRecipes.has(b[0]);
            if (aD !== bD) return bD - aD;
            return a[1].name.localeCompare(b[1].name);
        });

    for (const [key, recipe] of entries) {
        const disc = discoveredRecipes.has(key);
        const ingIcons = disc ? key.split('|')[0].split(',').map(id => {
            const ing = getIngredientById(id);
            return ing ? ing.icon : '';
        }).join(' ') + '  ' + methods.find(m => m.id === key.split('|')[1])?.icon : '';
        html += `<div class="recipe-entry ${disc ? '' : 'undiscovered'}">
            <span class="r-icon">${disc ? recipe.icon : '‚ùì'}</span>
            <div>
                <div class="r-name">${disc ? recipe.name : '???'}</div>
                <div class="r-detail">${disc ? ingIcons : 'Undiscovered'}</div>
            </div>
        </div>`;
    }
    list.innerHTML = html || '<div class="recipe-empty">No recipes here yet</div>';
}

function saveProgress() {
    try {
        localStorage.setItem('kitchen-chaos', JSON.stringify({
            discovered: Array.from(discoveredRecipes), score, streak,
        }));
    } catch(e) {}
}

function loadProgress() {
    try {
        const data = JSON.parse(localStorage.getItem('kitchen-chaos'));
        if (data) {
            discoveredRecipes = new Set(data.discovered || []);
            score = data.score || 0;
            streak = data.streak || 0;
        }
    } catch(e) {}
}

function init() {
    const panel = document.getElementById('ingredient-panel');
    for (const [cat, items] of Object.entries(ingredients)) {
        const section = document.createElement('div');
        section.className = 'cat-section';
        section.innerHTML = `<div class="cat-label">${categoryLabels[cat]}</div>`;
        const grid = document.createElement('div');
        grid.className = 'ing-grid';
        items.forEach(item => {
            const btn = document.createElement('button');
            btn.className = 'ing-btn';
            btn.dataset.id = item.id;
            btn.innerHTML = `<span class="emoji">${item.icon}</span> ${item.name}`;
            btn.onclick = () => toggleIngredient(item.id);
            grid.appendChild(btn);
        });
        section.appendChild(grid);
        panel.appendChild(section);
    }

    const methodGrid = document.getElementById('method-grid');
    methods.forEach(m => {
        const btn = document.createElement('button');
        btn.className = 'method-btn';
        btn.dataset.id = m.id;
        btn.innerHTML = `<span class="m-icon">${m.icon}</span><span>${m.name}</span>`;
        btn.onclick = () => selectMethod(m.id);
        methodGrid.appendChild(btn);
    });

    loadProgress();
    updateUI();
    updateRecipeBook();
}

init();
</script>
</body>
</html>
